<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GAMERAT | Tu tienda gamer</title>
  <meta name="description" content="GAMERAT: tienda gamer con consolas, accesorios y ofertas. Sube de nivel tu juego con envÃ­os rÃ¡pidos, garantÃ­a y soporte experto.">
  <!-- CSS GAMERAT -->
  <link rel="stylesheet" href="assets/css/theme.css">
  <link rel="stylesheet" href="assets/css/base.css">
  <link rel="stylesheet" href="assets/css/layout.css">
  <link rel="stylesheet" href="assets/css/components.css">
</head>
<body>
  <!-- SECTION: Header/Nav -->
  <header style="width:100%; position:relative;">
    <nav aria-label="NavegaciÃ³n principal" class="container-fluid" style="position:relative; display:flex; align-items:center; justify-content:space-between;">
      <a href="index.html" class="nav-logo" aria-label="Inicio GAMERAT">GAMERAT</a>
      <div class="nav-menu" role="menubar">
        <a href="index.html" role="menuitem">Inicio</a>
        <a href="#featuredProductsGrid" role="menuitem">Productos</a>
        <a href="#nosotros" role="menuitem">Nosotros</a>
        <a href="#contacto" role="menuitem">Contacto</a>
      </div>
      <div style="flex:0 0 auto; margin-right:2em;">
        <div style="position:relative; display:inline-block;">
          <a href="carrito.html" class="nav-cart" aria-label="Carrito de compras">
            ðŸ›’<span class="nav-cart-count">0</span>
          </a>
          <aside id="miniCart" style="position:absolute; top:48px; right:0; width:320px; background:#fff; color:#222; border-radius:18px; box-shadow:0 2px 18px #0004; z-index:1000; padding:1.5em 1.2em; display:none;">
            <div style="font-weight:bold; font-size:1.25em; margin-bottom:0.9em;">Carrito de Compras</div>
            <div id="miniCartItems"></div>
            <div style="font-weight:bold; margin-top:1em; font-size:1.1em;">Total: <span id="miniCartTotal" style="color:#009e60; font-weight:bold;">$0</span></div>
            <button id="viewCartBtn" style="margin-top:1.2em; background:#1976d2; color:#fff; border:none; border-radius:9px; padding:0.8em 1.2em; font-weight:bold; width:100%; font-size:1.1em; cursor:pointer;">Ver Carrito</button>
          </aside>
        </div>
      </div>
      <div id="userBox" style="display:flex; align-items:center; gap:0.7em;">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Usuario" style="width:32px; height:32px; border-radius:50%; object-fit:cover;">
        <div style="display:flex; flex-direction:column; align-items:flex-start;">
          <span style="font-weight:bold; color:#fff; font-size:1em;">Carlos Mendoza</span>
          <button id="logoutIndexBtn" type="button" style="margin-top:0.2em; background:#e53935; color:#fff; border:none; border-radius:6px; padding:0.3em 0.9em; font-size:0.95em; font-weight:bold; cursor:pointer;">Cerrar sesiÃ³n</button>
        </div>
      </div>
      </div>
        <aside id="miniCart" style="position:absolute; top:48px; right:0; width:260px; background:#fff; color:#222; border-radius:12px; box-shadow:0 2px 12px #0003; z-index:1000; padding:1.2em 1em; display:none;">
      <div id="userBox" style="display:flex; align-items:center; gap:0.7em;">
        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Usuario" style="width:32px; height:32px; border-radius:50%; object-fit:cover;">
        <div style="display:flex; flex-direction:column; align-items:flex-start;">
          <span style="font-weight:bold; color:#fff; font-size:1em;">Carlos Mendoza</span>
          <button id="logoutIndexBtn" type="button" style="margin-top:0.2em; background:#e53935; color:#fff; border:none; border-radius:6px; padding:0.3em 0.9em; font-size:0.95em; font-weight:bold; cursor:pointer;">Cerrar sesiÃ³n</button>
        </div>
      </div>
      <aside id="miniCart" style="position:absolute; top:48px; right:0; width:260px; background:#fff; color:#222; border-radius:12px; box-shadow:0 2px 12px #0003; z-index:1000; padding:1.2em 1em; display:none;">
  <!-- miniCart ahora estÃ¡ dentro del menÃº del carrito -->
    </nav>
  </header>

  <!-- SECTION: Hero -->
  <section class="hero" aria-label="Destacado principal">
    <div class="hero-content">
      <h1 class="hero-title">Sube de nivel tu juego</h1>
      <p class="hero-subtitle">Consolas, accesorios y ofertas para gamers de verdad.</p>
      <div class="hero-ctas">
        <a href="#featuredProductsGrid" class="btn" aria-label="Ver catÃ¡logo de productos">Ver catÃ¡logo</a>
        <a href="#promos" class="btn btn-accent" aria-label="Ver ofertas y promociones">Ofertas</a>
      </div>
    </div>
    <img src="https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&w=800&q=80" alt="Setup gamer ultrawide con luces azules" class="hero-img" />
  </section>

  <main>
    <!-- SECTION: Productos Destacados -->
    <section class="section" aria-label="Productos destacados">
      <h2 class="section-title">Juegos destacados</h2>
      <div id="featuredProductsGrid" class="grid grid-cols-3"></div>
      <script src="assets/js/home-products.js"></script>
    </section>

    
    <!-- SECTION: Nosotros/Valor -->
    <section class="section" id="nosotros" aria-label="Sobre GAMERAT">
      <h2 class="section-title">Â¿Por quÃ© elegir GAMERAT?</h2>
      <p style="text-align:center; max-width:700px; margin:0 auto 2rem auto; color:var(--g-white);">Somos gamers como tÃº. En GAMERAT encuentras lo Ãºltimo en consolas, accesorios y soporte experto. Compra seguro, recibe rÃ¡pido y juega sin lÃ­mites.</p>
      <div class="benefits">
        <div class="benefit">âœ” GarantÃ­a oficial en todos los productos</div>
        <div class="benefit">ðŸšš Despacho rÃ¡pido a todo el paÃ­s</div>
        <div class="benefit">ðŸ’¬ Soporte gamer 24/7</div>
        <div class="benefit">ðŸ’³ Todos los medios de pago</div>
      </div>
    </section>

    <!-- SECTION: FAQ -->
    <section class="section" aria-label="Preguntas frecuentes">
      <h2 class="section-title">Preguntas frecuentes</h2>
      <div class="faq-list">
        <div>
          <div class="faq-q">Â¿Hacen envÃ­os a todo el paÃ­s?</div>
          <div class="faq-a">SÃ­, despachamos a todo Chile con cobertura nacional.</div>
        </div>
        <div>
          <div class="faq-q">Â¿Puedo devolver un producto?</div>
          <div class="faq-a">Tienes 10 dÃ­as para devoluciones y 90 dÃ­as de garantÃ­a legal.</div>
        </div>
        <div>
          <div class="faq-q">Â¿Los productos tienen garantÃ­a?</div>
          <div class="faq-a">Todos los productos cuentan con garantÃ­a oficial del fabricante.</div>
        </div>
        <div>
          <div class="faq-q">Â¿QuÃ© medios de pago aceptan?</div>
          <div class="faq-a">Aceptamos tarjetas, transferencias y pagos digitales.</div>
        </div>
        <div>
          <div class="faq-q">Â¿Tienen soporte tÃ©cnico?</div>
          <div class="faq-a">SÃ­, nuestro equipo gamer te ayuda 24/7 por chat o email.</div>
        </div>
      </div>
    </section>

    <!-- SECTION: Contacto CTA -->
    <section class="section contact-cta" id="contacto" aria-label="Contacto GAMERAT">
      <div>Â¿Tienes dudas o quieres cotizar? Â¡ContÃ¡ctanos!</div>
      <form class="contact-form" style="margin:32px auto 0 auto; max-width:400px; background:#232a36; padding:32px 24px; border-radius:18px; box-shadow:0 2px 16px rgba(0,0,0,0.10); display:flex; flex-direction:column; gap:18px;">
        <label for="nombre" style="color:#fff;font-weight:500;">Nombre</label>
        <input type="text" id="nombre" name="nombre" required style="padding:10px;border-radius:8px;border:none;background:#1a2230;color:#fff;">
        <label for="email" style="color:#fff;font-weight:500;">Email</label>
        <input type="email" id="email" name="email" required style="padding:10px;border-radius:8px;border:none;background:#1a2230;color:#fff;">
        <label for="mensaje" style="color:#fff;font-weight:500;">Mensaje</label>
        <textarea id="mensaje" name="mensaje" rows="4" required style="padding:10px;border-radius:8px;border:none;background:#1a2230;color:#fff;"></textarea>
        <button type="submit" style="background:#19d4f7;color:#fff;font-weight:600;padding:12px 0;border:none;border-radius:24px;font-size:1.1em;cursor:pointer;transition:background 0.2s;">Enviar mensaje</button>
      </form>
    </section>
  </main>

  <!-- SECTION: Footer -->
  <footer>
    <div style="font-weight:bold; font-size:1.2rem;">GAMERAT</div>
    <div class="footer-nav">
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (window.ensureProductsSeed) window.ensureProductsSeed();
      const grid = document.getElementById('featuredProductsGrid');
      if (grid && window.getAllProducts) {
        // Filtrar solo videojuegos para consolas
        const consolas = ["PlayStation", "Xbox", "Nintendo", "PC"];
        let products = window.getAllProducts().filter(p => consolas.includes(p.category));
        grid.innerHTML = '';
        products.forEach(p => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${p.image}" alt="${p.name}" class="card-img" style="height:180px;object-fit:cover;" />
            <div class="card-content">
              <div class="card-title" style="font-size:1.1em;font-weight:bold;">${p.name}</div>
              <div class="card-desc" style="font-size:0.95em;color:#ccc;margin-bottom:0.5em;">${p.description}</div>
              <div class="card-price" style="font-weight:bold;">${(p.salePrice||p.price).toLocaleString('es-CL',{style:'currency',currency:'CLP'})}</div>
              <button class="btn card-cta add-to-cart" data-product-id="${p.id}" ${p.stock === 0 ? 'disabled' : ''}>${p.stock === 0 ? 'Sin stock' : 'Agregar al carrito'}</button>
            </div>
          `;
          grid.appendChild(card);
        });
        grid.addEventListener('click', function(e) {
          if (e.target.classList.contains('add-to-cart')) {
            const id = e.target.getAttribute('data-product-id');
            if (window.addToCart) window.addToCart(id, 1);
          }
        });
      }
    });
    </script>
      <a href="index.html">Inicio</a>
      <a href="blog.html">Blog</a>
      <a href="nosotros.html">Nosotros</a>
      <a href="contacto.html">Contacto</a>
    </div>
    <div>contacto@gamerat.cl | +56 9 1234 5678 | Santiago, Chile</div>
    <div class="footer-legal">Â© 2025 GAMERAT. Todos los derechos reservados.</div>
  </footer>

  <!-- JS GAMERAT -->
  <script src="assets/js/cart.js"></script>
  <script src="assets/js/main.js"></script>
  <script src="assets/js/home-products.js"></script>
  <script src="assets/js/mini-cart.js"></script>
  <script>
    const themeToggle = document.getElementById('themeToggle');
    themeToggle.addEventListener('click', () => {
      const root = document.documentElement;
      if (root.classList.contains('light')) {
        root.classList.remove('light');
        localStorage.setItem('theme', 'dark');
      } else {
        root.classList.add('light');
        localStorage.setItem('theme', 'light');
      }
    });
    if (localStorage.getItem('theme') === 'light') {
      document.documentElement.classList.add('light');
    }
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var logoutIndexBtn = document.getElementById('logoutIndexBtn');
      if (logoutIndexBtn) {
        logoutIndexBtn.onclick = function() {
          window.location.href = 'login.html';
        };
      }
    });
  </script>
  <aside id="miniCart" style="position:fixed; top:80px; right:30px; width:260px; background:#fff; color:#222; border-radius:12px; box-shadow:0 2px 12px #0003; z-index:1000; padding:1.2em 1em; display:none;">
</body>
</html>
